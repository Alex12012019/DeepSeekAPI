# DeepSeek Chat Interface

**–õ–æ–∫–∞–ª—å–Ω—ã–π –∫–ª–∏–µ–Ω—Ç –¥–ª—è Deepseek API —Å –ø–æ–ª–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π –¥–∏–∞–ª–æ–≥–æ–≤**  
üöÄ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∑–∞ 3 –¥–Ω—è –ø—Ä–∏ –ø–∞—Ä–Ω–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å DeepSeek Web

## ü§ñ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ —Å–æ–≤–º–µ—Å—Ç–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –°–æ–≤–º–µ—Å—Ç–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã:
1. **–ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞**:
   - –ü–æ—à–∞–≥–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π —á–µ—Ä–µ–∑ —á–∞—Ç
   - –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ
   - –°–æ–≤–º–µ—Å—Ç–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

2. **–ö–ª—é—á–µ–≤—ã–µ —Ç–æ—á–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**:
   ```python
   # –ü—Ä–∏–º–µ—Ä —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
   def save_conversation():
       try:
           # –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∏–º—è —Ñ–∞–π–ª–∞ (—Å–æ–≤–º–µ—Å—Ç–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)
           filename = generate_chat_name(messages)
           # –ú–µ—Ö–∞–Ω–∏–∑–º –∞—Ç–æ–º–∞—Ä–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (–ø—Ä–µ–¥–ª–æ–∂–µ–Ω DeepSeek)
           with open(filepath, 'w', encoding='utf-8') as f:
               json.dump({
                   'meta': {'name': name, 'created': datetime.now().isoformat()},
                   'messages': messages
               }, f, indent=2, ensure_ascii=False)
   ```

3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –æ—Ç DeepSeek**:
   - –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
   - –°–∏—Å—Ç–µ–º–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö ID –¥–ª—è –Ω–æ–≤—ã—Ö —á–∞—Ç–æ–≤
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –æ—à–∏–±–æ–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è (`requirements.txt`):
```text
flask==3.0.2
openai==1.12.0
python-dotenv==1.0.0
markdown==3.5.2
python-dateutil==2.8.2
```

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
```

## üõ† –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

```mermaid
sequenceDiagram
    participant Frontend
    participant Flask
    participant DeepseekAPI
    participant Filesystem
    
    Frontend->>Flask: POST /send_message (JSON)
    Flask->>DeepseekAPI: –ó–∞–ø—Ä–æ—Å –∫ AI
    DeepseekAPI->>Flask: –û—Ç–≤–µ—Ç —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º
    Flask->>Filesystem: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ (atomic write)
    Filesystem->>Flask: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
    Flask->>Frontend: –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —á–∞—Ç
```

## üîß –¢–∏–ø–∏—á–Ω—ã–π —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å

1. **–ù–∞—á–∞–ª–æ —Å–µ—Å—Å–∏–∏**:
   ```javascript
   // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (—Å–æ–≤–º–µ—Å—Ç–Ω–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –∫–æ–¥)
   class ChatApp {
     constructor() {
       this.currentChat = {
         id: 'tmp-' + Date.now(),
         isNew: true
       }
     }
   }
   ```

2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Å DeepSeek):
   ```python
   @app.errorhandler(500)
   def handle_errors(e):
       logger.error(f"–û—à–∏–±–∫–∞: {str(e)}")
       return jsonify({'status': 'error', 'message': str(e)}), 500
   ```
## –°–∫—Ä–∏–Ω
![image](https://github.com/user-attachments/assets/20737480-2b1c-4899-b57d-b8923316982c)

